<?xml version="1.0" encoding="UTF-8"?>
<topic id="t243ED1D-BDF2-11F0-7005-09173F13E4C5" xml:lang="en">
   <title>To set up a connection to your Dynamics instance</title>
   <prolog>
      <author>Yashshree</author>
      <critdates>
         <created date="2025-11-24+05:30"/>
         <revised modified="2025-11-24"/>
      </critdates>
      <metadata>
         <audience type="role"
                   otherprops="production,maintenance,quality,safety,engineering,management"/>
         <keywords><!-- Product -->
            <indexterm>metr-365-power</indexterm>
            <indexterm>dynamics-365</indexterm>
            <indexterm>dynamics-instance</indexterm>
            <indexterm>crm-environment</indexterm>
            <indexterm>oauth-client</indexterm>
            <indexterm>connection-settings</indexterm>
            <!-- Process -->
            <indexterm>set-up-dynamics-instance</indexterm>
            <indexterm>configure-crm-url</indexterm>
            <indexterm>validate-instance-connection</indexterm>
            <indexterm>map-instance-fields</indexterm>
            <indexterm>test-authentication</indexterm>
            <indexterm>establish-connection-context</indexterm>
            <!-- Context -->
            <indexterm>revenue-lifecycle-management</indexterm>
            <indexterm>revenue-operations</indexterm>
            <indexterm>revenue-lifecycle-management</indexterm>
            <indexterm>crm-integration</indexterm>
            <indexterm>system-administration</indexterm>
            <indexterm>cloud-environment</indexterm>
         </keywords>
         <prodinfo>
            <prodname>metR-365-Power</prodname>
            <platform>web</platform>
         </prodinfo>
         <othermeta name="title" content="To set up a connection to your Dynamics instance"/>
         <othermeta name="shortdesc"
                    content="Current Dynamics instance connection details are used for establishing the integration with Power, irrespective of the Dynamics 365 connection configured."/>
         <othermeta name="language" content="en-GB"/>
         <othermeta name="version" content="1.0.0"/>
         <othermeta name="docStage" content="approved"/>
         <othermeta name="access.role" content="internal"/>
         <othermeta name="data.classification" content="non-sensitive"/>
         <othermeta name="retention.policy" content="standard-36m"/>
         <othermeta name="entities"
                    content="dynamics-instance;crm-url;environment-id;authentication-token;connection-profile;integration-context"/>
         <othermeta name="taxonomy"
                    content="domain:revenue-operations;usecase:set-up-dynamics-instance;industry:revenue-lifecycle-management"/>
         <othermeta name="tags"
                    content="dynamics-instance,crm,authentication,integration,data-sync,configuration"/>
         <othermeta name="usecase" content="set-up-dynamics-instance"/>
      </metadata>
   </prolog>
   <body>
      <context>
         <note type="note">
            <p>Current Dynamics instance connection details are used for establishing the connection with Power, irrespective of the Dynamics 365 connection configured.</p>
         </note>
      </context>
      <ol>
         <li>
            <p>Open the Power-Dynamics 365 Connector.</p>
         </li>
         <li>
            <p>Under Groups in the left side panel, select <uicontrol>Connections</uicontrol>. A list of connections is displayed (if this is the first time you are using the connector you will see two connections: <uicontrol>Power</uicontrol> and <uicontrol>Dynamics 365</uicontrol>).</p>
         </li>
         <li>
            <p>To configure the Dynamics connection, click the hyperlink corresponding to the Connection Name.</p>
         </li>
         <li>
            <p>Enter the following information in the fields provided:</p>
            <p>
               <p>
                  <table>
                     <tgroup cols="3">
                        <colspec colname="col1"/>
                        <colspec colname="col2"/>
                        <colspec colname="col3"/>
                        <thead>
                           <row>
                              <entry>
                                 <p>Field</p>
                              </entry>
                              <entry>
                                 <p>Description</p>
                              </entry>
                              <entry>
                                 <p>Notes / Example</p>
                              </entry>
                           </row>
                        </thead>
                        <tbody>
                           <row>
                              <entry>
                                 <p>Name</p>
                              </entry>
                              <entry>
                                 <p>A name for the connection</p>
                              </entry>
                              <entry>
                                 <p>This is seeded (read-only) and cannot be changed: Dynamics 365</p>
                              </entry>
                           </row>
                           <row>
                              <entry>
                                 <p>Type</p>
                              </entry>
                              <entry>
                                 <p>CRM type (Dynamics)</p>
                              </entry>
                              <entry>
                                 <p>This is seeded (read-only) and cannot be changed: Dynamics365</p>
                              </entry>
                           </row>
                           <row>
                              <entry>
                                 <p>Username</p>
                              </entry>
                              <entry>
                                 <p>User name of the service account in Dynamics</p>
                              </entry>
                              <entry>
                                 <p>Account must have full read, write, and delete permissions for the objects being synced and must be a service account</p>
                              </entry>
                           </row>
                           <row>
                              <entry>
                                 <p>Password</p>
                              </entry>
                              <entry>
                                 <p>Password for service account user</p>
                              </entry>
                              <entry/>
                           </row>
                           <row>
                              <entry>
                                 <p>IsActive</p>
                              </entry>
                              <entry>
                                 <p>Indicates whether the connection can be selected when setting up a sync group</p>
                              </entry>
                              <entry>
                                 <p>Yes / No. This flag is set to 'Yes' for the initial connections set up when the connector is first installed. If set to 'No' and the connector version is updated (package is redeployed), a new connection is created with IsActive set to 'Yes'.</p>
                                 <note type="note">
                                    <p>You cannot have more than one active Dynamics 365 connection at a time.</p>
                                 </note>
                              </entry>
                           </row>
                           <row>
                              <entry>
                                 <p>Client Id</p>
                              </entry>
                              <entry>
                                 <p>The client Id you generated in the previous task</p>
                              </entry>
                              <entry>
                                 <p>See <xref href="https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/walkthrough-register-app-active-directory"
                                          format="html"
                                          scope="external">https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/walkthrough-register-app-active-directory</xref>
                                 </p>
                              </entry>
                           </row>
                           <row>
                              <entry>
                                 <p>Client Secret</p>
                              </entry>
                              <entry>
                                 <p>The client secret you generated in the previous task</p>
                              </entry>
                              <entry>
                                 <p>See <xref href="https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/walkthrough-register-app-active-directory"
                                          format="html"
                                          scope="external">https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/walkthrough-register-app-active-directory</xref>
                                 </p>
                              </entry>
                           </row>
                           <row>
                              <entry>
                                 <p>Redirect URL</p>
                              </entry>
                              <entry>
                                 <p>The Redirect URL from the previous task</p>
                              </entry>
                              <entry>
                                 <p>Example: "<xref href="http://localhost/datasync" format="html" scope="external">http://localhost/datasync</xref>"</p>
                              </entry>
                           </row>
                           <row>
                              <entry>
                                 <p>Service URL</p>
                              </entry>
                              <entry>
                                 <p>URL of the Dynamics server</p>
                              </entry>
                              <entry>
                                 <p>Example: https://&lt;host&gt;.<xref href="http://crm.dynamics.com" format="html" scope="external">crm.dynamics.com</xref>"</p>
                              </entry>
                           </row>
                           <row>
                              <entry>
                                 <p>Power Automate ConnectionId</p>
                              </entry>
                              <entry>
                                 <p>The connection Id for the Power Automate flow (enables sync scheduling)</p>
                              </entry>
                              <entry>
                                 <p>Copy this value from the previous task. Example value: 11ffc2be-c465-446b-a4c1-d10fbad39834</p>
                              </entry>
                           </row>
                        </tbody>
                     </tgroup>
                  </table>
               </p>
            </p>
         </li>
         <li>
            <p>Click <uicontrol>Save</uicontrol>.</p>
            <p>
               <p>To edit an existing connection, click the Connection Name on the Connections
                  page.</p>
            </p>
         </li>
      </ol>
   </body>
</topic>
