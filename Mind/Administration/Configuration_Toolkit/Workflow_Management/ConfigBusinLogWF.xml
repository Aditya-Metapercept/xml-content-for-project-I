<?xml version="1.0" encoding="UTF-8"?>
<topic id="Config_BL_Workflow">
   <title>Configuring Business Logic in Workflow</title>
   <shortdesc/>
   <prolog>
      <author>Yashshree</author>
      <critdates>
         <created date="2025-11-20+05:30"/>
         <revised modified="2025-11-20+05:30"/>
      </critdates>
      <metadata>
         <audience type="role"
                   otherprops="administrator,engineering,management,external contractors,analyst"/>
         <keywords><!-- Product layer -->
            <indexterm>workflow</indexterm>
            <indexterm>form</indexterm>
            <indexterm>workflow-management</indexterm>
            <indexterm>business-logic</indexterm>
            <indexterm>form-builder</indexterm>
            <!-- Process layer -->
            <indexterm>configure-business-logic</indexterm>
            <indexterm>validate-workflow</indexterm>
            <indexterm>deploy-workflow</indexterm>
            <indexterm>publish-workflow</indexterm>
            <indexterm>manage-approvals</indexterm>
            <!-- Context layer -->
            <indexterm>mind-administration-guide</indexterm>
            <indexterm>capital-program-management</indexterm>
            <indexterm>infrastructure-software</indexterm>
            <indexterm>web-platform</indexterm>
            <indexterm>enterprise-deployment</indexterm>
         </keywords>
         <prodinfo>
            <prodname>Mind-Administration-Guide</prodname>
            <platform>web</platform>
         </prodinfo>
         <othermeta name="title" content="ConfigBusinLogWF"/>
         <othermeta name="shortdesc"
                    content="Configuration steps and considerations for business-logic in workflows, including permissions and conref links."/>
         <othermeta name="language" content="en-GB"/>
         <othermeta name="version" content="1.0.0"/>
         <othermeta name="docStage" content="approved"/>
         <othermeta name="access.role" content="internal"/>
         <othermeta name="data.classification" content="non-sensitive"/>
         <othermeta name="retention.policy" content="standard-36m"/>
         <othermeta name="entities"
                    content="workflow;form;business-logic;form-builder;manage-approvals"/>
         <othermeta name="taxonomy"
                    content="domain:Capital-program-management;usecase:workflow-management;industry:glass-manufacturing"/>
         <othermeta name="tags"
                    content="workflow,form,form-builder,configure-business-logic,manage-approvals"/>
         <othermeta name="usecase" content="configure business logic for workflows"/>
      </metadata>
   </prolog>
   <body>
      <context>The <uicontrol>Business Logic</uicontrol> in <uicontrol>Workflow Management</uicontrol> form enables you to configure business logic in <ph href="../../../../Warehouse/Product_Name_Warehouse.xml#reference-9043/product_name"/> workflows using deep integration with Blockly.  <p>This section describes the steps to configure a workflow using the <uicontrol>BUSINESS LOGIC</uicontrol> item. The <uicontrol>BUSINESS LOGIC</uicontrol> item receive input from the <uicontrol>DATA OPERATIONS</uicontrol> block.</p>
         <p>
            <uicontrol>Business Scenario Used</uicontrol>
         </p>
         <p>The XML Form has discussion control with a hierarchical workflow status such as <uicontrol>Draft</uicontrol>, <uicontrol>Submitted</uicontrol>, and <uicontrol>Approved</uicontrol>.<ul>
               <li>If the status of the form is <uicontrol>Submitted</uicontrol>, then the workflow action <uicontrol>Approve</uicontrol> must be validated for all the items in the discussion control of the form record.</li>
               <li>If the status of all items in the discussion control of the form is <uicontrol>Closed</uicontrol>, then the workflow action must be moved to <uicontrol>Approved</uicontrol>.</li>
               <li>If the status of any item in the discussion control of the form is not <uicontrol>Closed</uicontrol>, then the next workflow action must be stopped along with a warning message.</li>
            </ul>
         </p>
      </context>
      <ol>
         <li>
            <p>In the module menu, click <uicontrol>Administration</uicontrol>.</p>
            <p>The <uicontrol>ADMINISTRATIONS</uicontrol> page is displayed.</p>
         </li>
         <li>
            <p>In the navigation pane, expand <uicontrol>Configuration Toolkit</uicontrol>, and then click <uicontrol>Workflow Management</uicontrol>.</p>
            <p>The <uicontrol>WORKFLOW LIST</uicontrol> page is displayed.</p>
         </li>
         <li>
            <p>Click <uicontrol>New</uicontrol>.</p>
            <p>The <uicontrol>NEW WORKFLOW</uicontrol> page is displayed. </p>
         </li>
         <li>
            <p>To add information about the workflow, in the <uicontrol>General Details</uicontrol> tab, perform the following steps:</p>
            <ol>
               <li>
                  <p>In the <uicontrol>Name</uicontrol> box, enter the name of the workflow.</p>
               </li>
               <li>
                  <p>In the <uicontrol>Description</uicontrol> box, enter a description of the workflow.</p>
               </li>
               <li>
                  <p>From the <uicontrol>Select Form</uicontrol> drop-down list, select the form for which the workflow is being created. </p>
                  <p>Alternatively, type the name of the form, and then select the appropriate form.</p>
                  <p>The available options are all forms available in the application.For example, to create a workflow for <uicontrol>Project Fund Transaction</uicontrol>, you must select the <uicontrol>Project Fund Transaction</uicontrol> form from the <uicontrol>Select Form</uicontrol> drop-down list. To create a new business process, the first step is to create the form, and then create the workflow.</p>
               </li>
               <li>
                  <p>Select the <uicontrol>Configure View Permissions</uicontrol>, <uicontrol>Enable Editing by Non Action Stakeholders</uicontrol>, and <uicontrol>Allow Workflow Action by All Stakeholders</uicontrol> check boxes as required.</p>
                  <p>For example, you can enable this check box when you want to specifically allow or deny view of the record to a user role at any stage of the workflow.<note>
                        <ul>
                           <li>You cannot select or clear the <uicontrol>Configure View Permissions</uicontrol> check box after clicking <uicontrol>Apply</uicontrol> in the <uicontrol>General Details</uicontrol> tab.</li>
                           <li>You can select or clear the <uicontrol>Enable Editing by Non Action Stakeholders</uicontrol> and <uicontrol>Allow Workflow Action by All Stakeholders</uicontrol> check boxes at any time while creating or editing the workflow.</li>
                        </ul>
                     </note>
                  </p>
               </li>
               <li>
                  <p>Click <uicontrol>Apply</uicontrol>.</p>
                  <p>A workflow with three-stage workflow status – <uicontrol>Draft</uicontrol>, <uicontrol>Submitted</uicontrol>, and <uicontrol>Approved</uicontrol> is displayed in the <uicontrol>Workflow</uicontrol> tab. By default, the workflow is created in simple mode.</p>
               </li>
            </ol>
         </li>
         <li>
            <p>To load the <uicontrol>ADVANCED ACTIVITIES</uicontrol> list, click <uicontrol>Switch to Advanced</uicontrol>.</p>
            <p>A new activity called <uicontrol>Business Logic</uicontrol> is displayed at the bottom of the <uicontrol>ADVANCED ACTIVITIES</uicontrol> list.</p>
         </li>
         <li>
            <p>Drag and drop the <uicontrol>Business Logic</uicontrol> item in the center pane design area where you can configure the logic.</p>
            <p>
               <fig>
                  <title/>
                  <image href="../../../Icons/Screenshots_Icons/Business_Logic_select.jpg"
                         placement="inline"/>
               </fig>
            </p>
         </li>
         <li>
            <p>To load the configuration settings at the right side of the page, click the <uicontrol>Business Logic</uicontrol> item in the design pane area.</p>
            <p>The <uicontrol>Business Logic</uicontrol> propertied are displayed at the right pane of the page.<fig>
                  <title/>
                  <image href="../../../Icons/Screenshots_Icons/Business_Logic_tab.jpg"
                         placement="inline"/>
               </fig>
            </p>
            <p/>
         </li>
         <li>
            <p>In the <uicontrol>Name</uicontrol> field, enter a name for the <uicontrol>Business Logic</uicontrol> item.</p>
         </li>
         <li>
            <p>To configure the business logic with Blockly interface, perform the following steps:</p>
            <ol>
               <li>
                  <p> In the <uicontrol>Business Logic</uicontrol> field, click <image href="../../../Icons/Screenshots_Icons/select.png" placement="inline"/>.</p>
                  <p>The <uicontrol>Business Logic</uicontrol> dialog box is displayed.<fig>
                        <title/>
                        <image href="../../../Icons/Screenshots_Icons/Business_Logic_dialog_box.jpg"
                               placement="inline"/>
                     </fig>
                  </p>
               </li>
               <li>
                  <p>To configure the business logic that must be executed, drag and drop the appropriate blocks to the design area. For information on configuring blocks, refer to <xref href="../Form_Builder_Using_ConfigPlus/Configuring_Business_Logic_in_Form.xml"/>.</p>
                  <p>The default block <uicontrol>Workflow Resource</uicontrol> has two default variables.<ul>
                        <li>
                           <msgph>IsSuccess</msgph>: It is a flag variable. The default value is True. This helps to validate whether the business logic that is executed is successful or not. </li>
                        <li>
                           <msgph>Message</msgph>: It is a string variable. The default value is with the executed result message.</li>
                     </ul>
                  </p>
               </li>
            </ol>
         </li>
         <li>
            <p>To read the appropriate data (discussion control data ) from the selected form and store it as a variable, perform the following steps:</p>
            <ol>
               <li>
                  <p>Expand the <uicontrol>DEFINITIONS</uicontrol> block and click the <uicontrol>Variables</uicontrol> block.</p>
                  <p>
                     <fig>
                        <image href="../../../Icons/Screenshots_Icons/BL_WF_Create_Variable.jpg"
                               placement="inline"/>
                     </fig>
                  </p>
               </li>
               <li>
                  <p>Click <uicontrol> Create Variable</uicontrol>.</p>
                  <p>A pop-up message appears to provide the variable name.</p>
               </li>
               <li>
                  <p>In the <uicontrol>New variable name</uicontrol> field, enter the variable name as <msgph>QueryResult</msgph>, and click <uicontrol>OK</uicontrol>.</p>
                  <p>
                     <fig>
                        <title/>
                        <image href="../../../Icons/Screenshots_Icons/BL_WF_Create_VariableName.jpg"
                               placement="inline"/>
                     </fig>
                     <p>The newly created variable is available in the variable list with the <uicontrol>set</uicontrol> operator.</p>
                  </p>
               </li>
               <li>
                  <p>Drag and drop the <uicontrol>set</uicontrol> operator to the design area.</p>
                  <p>
                     <fig>
                        <title/>
                        <image href="../../../Icons/Screenshots_Icons/Set_Variable_Created.jpg"
                               placement="inline"/>
                     </fig>
                  </p>
               </li>
               <li>
                  <p>Expand the <uicontrol>DATA OPERATIONS</uicontrol> block and click the <uicontrol>Read Data</uicontrol> block.</p>
                  <p>The available options of the <uicontrol>Read Data</uicontrol> block are displayed.<fig>
                        <title/>
                        <image href="../../../Icons/Screenshots_Icons/BL_WF_ReadData_Options.jpg"
                               placement="inline"/>
                     </fig>
                  </p>
               </li>
               <li>
                  <p>Drag and connect the <uicontrol>SELECT</uicontrol> block to the <uicontrol>set</uicontrol> operator.</p>
                  <p>
                     <fig>
                        <title/>
                        <image href="../../../Icons/Screenshots_Icons/SetOperator_SelectBlock.jpg"
                               placement="inline"/>
                     </fig>
                  </p>
               </li>
               <li>
                  <p>Expand the <uicontrol>DATA OPERATIONS</uicontrol> block and click the   <uicontrol>Fields</uicontrol> block.</p>
                  <p>The available options of the <uicontrol>Fields</uicontrol> block are displayed.<fig>
                        <title/>
                        <image href="../../../Icons/Screenshots_Icons/BL_WF_ReadData_FieldOptions.jpg"
                               placement="inline"/>
                     </fig>
                  </p>
               </li>
               <li>
                  <p>To add the parameter resolver value that must be equivalent for the query execution, drag and connect the <uicontrol>Workflow Data Of</uicontrol> block to the <uicontrol>SELECT</uicontrol> block. </p>
                  <p>
                     <fig>
                        <title/>
                        <image href="../../../Icons/Screenshots_Icons/BL_WF_SELECT_WFData.jpg"
                               placement="inline"/>
                     </fig>
                     <note> The <uicontrol>SELECT</uicontrol> block executes the database query and stores the result in the <uicontrol>set</uicontrol> operator variable <msgph>Query Result</msgph>.</note>
                  </p>
               </li>
            </ol>
         </li>
         <li>
            <p>To validate the retrieved information in a loop for each information retrieved, perform the following steps:</p>
            <ol>
               <li>
                  <p>Expand the <uicontrol>CONDITIONS</uicontrol> block and click the <uicontrol>Loops</uicontrol> block.</p>
               </li>
               <li>
                  <p>Drag and connect the <uicontrol>for loop</uicontrol> block below the <uicontrol>set</uicontrol> operator.</p>
                  <p>
                     <fig>
                        <title/>
                        <image href="../../../Icons/Screenshots_Icons/BL_WF_ForLoop.jpg"
                               placement="inline"/>
                     </fig>
                  </p>
               </li>
               <li>
                  <p>Expand the <uicontrol>DEFINITIONS</uicontrol> block and click the <uicontrol>Variables</uicontrol> block.</p>
               </li>
               <li>
                  <p>Drag and connect the <msgph>Query Result</msgph> variable to the <uicontrol>for loop</uicontrol> block.</p>
                  <p>
                     <fig>
                        <title/>
                        <image href="../../../Icons/Screenshots_Icons/BL_WF_ForLoop_QueryResult.jpg"
                               placement="inline"/>
                     </fig>
                     <note>The <uicontrol>for loop</uicontrol> block creates a default variable <msgph>i</msgph> for the increment of a loop for values passed.</note>
                  </p>
               </li>
               <li>
                  <p>Expand the <uicontrol>CONDITIONS</uicontrol> block, then expand the <uicontrol>Logic</uicontrol> block, and click the <uicontrol>If</uicontrol> block.</p>
               </li>
               <li>
                  <p>Drag and connect the <uicontrol>If</uicontrol> block to the <uicontrol>for loop</uicontrol> block.</p>
                  <p>
                     <fig>
                        <title/>
                        <image href="../../../Icons/Screenshots_Icons/BL_WF_IfBlock.jpg"
                               placement="inline"/>
                     </fig>
                  </p>
               </li>
               <li>
                  <p>Expand the <uicontrol>DATA OPERATIONS</uicontrol> block and click the <uicontrol>Get</uicontrol> block.</p>
               </li>
               <li>
                  <p>Drag and connect the <uicontrol>Get</uicontrol> block to the <uicontrol>If</uicontrol> Block.</p>
               </li>
               <li>
                  <p>In the <uicontrol>Get Property of</uicontrol> block, define the values as follows:</p>
                  <p>
                     <ol>
                        <li outputclass="break_avoid">From the drop-down list of <uicontrol>Select Variable</uicontrol> entity, select <msgph>i</msgph>.<fig>
                              <title/>
                              <image href="../../../Icons/Screenshots_Icons/BL_WF_GetPropertyOf.jpg"
                                     placement="inline"/>
                           </fig>
                        </li>
                        <li>From the drop-down list of <uicontrol>Select Property</uicontrol> entity, select <msgph>Status</msgph>.</li>
                        <li>From the drop-down list of <uicontrol>Operator</uicontrol> entity, select <uicontrol>≠</uicontrol>.</li>
                     </ol>
                  </p>
               </li>
               <li>
                  <p>Expand the <uicontrol>UPDATE</uicontrol> block, and then click the <uicontrol>Text</uicontrol> block.</p>
               </li>
               <li>
                  <p>Drag and attach the empty string block to the <uicontrol>≠</uicontrol> operator entity of the <uicontrol>Get Property of</uicontrol> block and mention the resolver value as <msgph>Closed</msgph>.</p>
               </li>
               <li>
                  <p>If the resolver condition fails, to update the variable <msgph>Is_success</msgph> to <msgph>false</msgph>, drag and connect the <uicontrol>set</uicontrol> block to the <uicontrol>Get Property of</uicontrol> block.</p>
               </li>
               <li>
                  <p>Set the value of the variable <msgph>Message</msgph> to <msgph>{Action Item name} is not Closed. Request Denied</msgph>.</p>
                  <p>
                     <fig>
                        <title/>
                        <image href="../../../Icons/Screenshots_Icons/ConfigBL_UpdateBlock_Save.jpg"
                               placement="inline"/>
                     </fig>
                  </p>
               </li>
            </ol>
         </li>
         <li>
            <p>Click <uicontrol>Save</uicontrol>.</p>
         </li>
         <li>
            <p>To validate the <msgph>Is_Success</msgph> flag variable of the <uicontrol>Business Logic</uicontrol> item, drag and drop the <uicontrol>Advanced Conditional Block</uicontrol> item to the design area.</p>
            <p>
               <fig>
                  <title/>
                  <image href="../../../Icons/Screenshots_Icons/BL_WF_AdvConditionBlock.jpg"
                         placement="inline"/>
               </fig>
            </p>
         </li>
         <li>
            <p>If the condition fails, to display the <uicontrol>Business Logic</uicontrol> message, perform the following steps:</p>
            <ol>
               <li>
                  <p>Drag and drop <uicontrol>Display Message</uicontrol> item to the design area.</p>
               </li>
               <li>
                  <p>To load the configuration settings at the right side of the page, select the <uicontrol>Display Message</uicontrol> item in the design pane area.</p>
                  <p>The <uicontrol>Display Message</uicontrol> tab is displayed at the right pane of the page.</p>
               </li>
               <li>
                  <p>In the <uicontrol>Name</uicontrol> field, enter a name for the <uicontrol>Display Message</uicontrol> item.</p>
               </li>
               <li>
                  <p>To configure the display message logic, click <image href="../../../Icons/Screenshots_Icons/select.png" placement="inline"/>
                  </p>
                  <p>The <uicontrol>Resources</uicontrol> dialog box is displayed.<fig>
                        <title/>
                        <image href="../../../Icons/Screenshots_Icons/BL_WF_DisplayMsgBlock.jpg"
                               placement="inline"/>
                     </fig>
                  </p>
               </li>
               <li>
                  <p>Click the <uicontrol>Workflow Data</uicontrol> button and from the drop-down list, select <uicontrol>Business Logic : message</uicontrol>.</p>
               </li>
            </ol>
         </li>
         <li>
            <p>Click <uicontrol>Save</uicontrol>.</p>
         </li>
         <li>
            <p>Click <uicontrol>Publish</uicontrol>.</p>
         </li>
      </ol>
   </body>
</topic>
