<?xml version="1.0" encoding="UTF-8"?>
<topic id="r2008C33-BB02-11F0-1798-09173F13E4C5" xml:lang="en-us">
   <title>Procedure</title>
   <prolog>
      <author>Suchitra</author>
      <critdates>
         <created date="2025-11-10+05:30"/>
         <revised modified="2025-11-10+05:30"/>
      </critdates>
      <metadata>
         <audience type="role" otherprops="maintenance,production,engineering,safety"/>
         <keywords><!-- Product -->
            <indexterm>metR-FES-Space</indexterm>
            <indexterm>PIC controller</indexterm>
            <indexterm>PRS controller</indexterm>
            <indexterm>FSC integrity server</indexterm>
            <indexterm>control panel</indexterm>
            <!-- Process -->
            <indexterm>shutdown sequence</indexterm>
            <indexterm>reboot sequence</indexterm>
            <indexterm>pre-checks and preconditions</indexterm>
            <indexterm>service-stop commands</indexterm>
            <indexterm>post-reboot validation</indexterm>
            <indexterm>backup configuration</indexterm>
            <indexterm>check system logs</indexterm>
            <indexterm>confirm sensor telemetry</indexterm>
            <!-- Context -->
            <indexterm>maintenance window</indexterm>
            <indexterm>production impact</indexterm>
            <indexterm>operator confirmation</indexterm>
            <indexterm>rollback plan</indexterm>
         </keywords>
         <prodinfo>
            <prodname>metR-FES-Space</prodname>
            <platform>web</platform>
         </prodinfo>
         <othermeta name="title" content="Procedure"/>
         <othermeta name="shortdesc"
                    content="Step-by-step procedures for safe shutdown, reboot, diagnostics and validation of FES-03-106 systems, including prechecks and rollback."/>
         <othermeta name="language" content="en-GB"/>
         <othermeta name="version" content="1.0.0"/>
         <othermeta name="docStage" content="approved"/>
         <othermeta name="access.role" content="internal"/>
         <othermeta name="data.classification" content="non-sensitive"/>
         <othermeta name="retention.policy" content="standard-36m"/>
         <othermeta name="entities"
                    content="PIC controller;PRS controller;FSC server;system services;backup configs;operators"/>
         <othermeta name="taxonomy"
                    content="domain:operations;usecase:maintenance-procedure;industry:glass-manufacturing"/>
         <othermeta name="tags" content="procedure,reboot,shutdown,diagnostics,validation"/>
         <othermeta name="usecase"
                    content="document-operational-steps-for-maintenance-and-restart"/>
      </metadata>
   </prolog>
   <body>
      <section>
         <ol>
            <li id="li_r4x_pfs_qzb">Shutting down the FSC required logging onto the original FSC menus
               that have been part of the FSC since before the MOC program became the standard user
               interface. To log on to the menus, it is recommend that a network “telnet” session be
               established with the FSC. Telnet sessions can be made with the Reflection for Windows
               program, the Chameleon telnet program or the PuTTY telnet program. All of these are
               available from Run Advertised Programs.</li>
            <li>This procedure will describe the methods for connecting to the Integrity Server using a
               telnet program or Reflection for Windows in the “Connection with Telnet” section. If
               you do not get the results described when you do a <i>Search Programs</i> (step <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/li_r4x_pfs_qzb">1</xref>), the program you want will need to be
               installed first. The Global Service Desk can assist if you have not done this
               function.</li>
            <li>There are two methods of connecting to the Integrity Server over the network:<ol>
                  <li>Connecting to the same IP address as used for MOC and JES operations.<ol>
                        <li>This is simpler, but results in a “blind” shutdown and reboot where you cannot see when the shutdown is completed or when the reboot has completed.</li>
                     </ol>
                  </li>
                  <li>Connecting to the Management Port IP address.<ol>
                        <li>This is slightly more involved because the Management Port requires a login and then typing a command to connect to the Console where you then log in the same way as the first method.</li>
                     </ol>
                  </li>
               </ol>
            </li>
            <li>Connection with Telnet<ol>
                  <li>
                     <note id="note_imz_sfs_qzb">
                        <p>Setting up the programs so that Backspace works as Delete is out of scope
                           for this document. If a mistake is made in typing a password, just try
                           again.</p>
                     </note>
                  </li>
               </ol>
            </li>
            <li>Chameleon Method<ol>
                  <li>Click on the <uicontrol>Windows Start</uicontrol> button and type
                           <i>
                        <userinput>telnet</userinput>
                     </i> in the <i>Search Programs and Files
                     </i>box. If the program is installed, you should see <i>Telnet and ASCII
                        Terminal </i>in the Programs list at the top of the popup window (Figure
                        <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_yry_xfs_qzb">1</xref>). <fig id="fig_yry_xfs_qzb">
                        <title>Figure 1</title>
                        <image href="media/image3.jpg"
                               placement="break"
                               align="center"
                               id="image_asy_xfs_qzb"/>
                     </fig>
                  </li>
               </ol>
            </li>
            <li id="li_z24_yhs_qzb">Click on the program and the telnet window should appear
               (Figure <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_ml2_yfs_qzb">2</xref>). <note id="note_k34_fgs_qzb">
                  <p>The background color may be simply white by default.</p>
               </note>
               <fig id="fig_ml2_yfs_qzb">
                  <title>Figure 2</title>
                  <image href="media/image4.jpg"
                         placement="break"
                         align="center"
                         id="image_nl2_yfs_qzb"/>
               </fig>
            </li>
            <li>Click the menu word Connect or the left-most <uicontrol>icon</uicontrol> button to
               display the connection dialog window (Figure <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_g3j_yfs_qzb">3</xref>). <fig id="fig_g3j_yfs_qzb">
                  <title>Figure 3</title>
                  <image href="media/image5.jpg"
                         placement="break"
                         align="center"
                         id="image_h3j_yfs_qzb"/>
               </fig>
            </li>
            <li id="li_jsb_b3s_qzb">In the space titled “Host:”, type in the IP address you are
               going to use. The other two boxes should say “Emulate: VT320” and “Port:
                  23”.</li>
            <li>Click <uicontrol>OK</uicontrol> to start the connection. Some sort of announcement and
               prompt should appear for you to log in. See the Shutdown/Reboot Procedure for what to
               do next.</li>
            <li>Reflection for Windows Method<ol>
                  <li>Click on the <uicontrol>Windows Start</uicontrol> button and type
                           <i>
                        <userinput>host</userinput>
                     </i> in the <i>Search Programs and Files
                     </i>box. If the program is installed, you should see <i>Host – ReGIS Graphics
                     </i>in the Programs list at the top of the popup window (Figure <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_w1r_yfs_qzb">4</xref>). <fig id="fig_w1r_yfs_qzb">
                        <title>Figure 4</title>
                        <image href="media/image6.jpg"
                               placement="break"
                               align="center"
                               id="image_x1r_yfs_qzb"/>
                     </fig>
                  </li>
                  <li>Click on the program and the Reflection window should appear (Figure <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_qdv_yfs_qzb">5</xref>). <fig id="fig_qdv_yfs_qzb">
                        <title>Figure 5</title>
                        <image href="media/image7.jpg"
                               placement="break"
                               align="center"
                               id="image_rdv_yfs_qzb"/>
                     </fig>
                  </li>
                  <li>Click the menu word Connection to display the connection dialog window (Figure <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_unz_yfs_qzb">6</xref>). <fig id="fig_unz_yfs_qzb">
                        <title>Figure 6</title>
                        <image href="media/image8.jpg"
                               placement="break"
                               align="center"
                               id="image_vnz_yfs_qzb"/>
                     </fig>
                  </li>
                  <li>In the space titled “Host/Service name:”, type in the IP address you are
                     going to use.</li>
                  <li>Click the <uicontrol>Connect</uicontrol> button to start the connection. Some sort
                     of announcement and prompt should appear for you to log in. See the
                     Shutdown/Reboot Procedure for what to do next.</li>
               </ol>
            </li>
            <li>PuTTY Method
         <ol>
                  <li>Click on the <uicontrol>Windows Start</uicontrol> button and type
                           <i>
                        <userinput>putty</userinput>
                     </i> in the <i>Search Programs and Files
                     </i>box. If the program is installed, you should see <i>Telnet and ASCII
                        Terminal </i>in the Programs list at the top of the popup window (Figure
                        <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_ex2_zfs_qzb">7</xref>). <fig id="fig_ex2_zfs_qzb">
                        <title>Figure 7</title>
                        <image href="media/image9.jpg"
                               placement="break"
                               align="center"
                               id="image_gx2_zfs_qzb"/>
                     </fig>
                  </li>
                  <li>Click on the program and the Putty telnet window should appear (Figure <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_ihj_zfs_qzb">8</xref>). <fig id="fig_ihj_zfs_qzb">
                        <title>Figure 8</title>
                        <image href="media/image10.jpg"
                               placement="break"
                               align="center"
                               id="image_jhj_zfs_qzb"/>
                     </fig>
                  </li>
                  <li>In the space titled “Host Name (or IP address)”, type in the IP address you
                     are going to use. Change the Connection type to “Telnet” (Figure <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_k54_zfs_qzb">9</xref>). <fig id="fig_k54_zfs_qzb">
                        <title>Figure 9</title>
                        <image href="media/image11.jpg"
                               placement="break"
                               align="center"
                               id="image_l54_zfs_qzb"/>
                     </fig>
                  </li>
                  <li>The settings can be saved by typing a name into the line under Saved Sessions and
                     clicking the <uicontrol>Save</uicontrol> button. The next time that you start
                     the program, click on the name that you created (which will appear in the
                     window where the words Default Settings are shown). When the
                        <uicontrol>Load</uicontrol> button is clicked on, you should be able to do
                     the next step immediately.</li>
                  <li>Click OK to start the connection. Some sort of announcement and prompt should
                     appear for you to log in. See the Shutdown/Reboot Procedure for what to do
                     next.</li>
               </ol>
            </li>
            <li>Shutdown/Reboot Procedure <ol>
                  <li>If you have connected to the MOC/JES address, the following procedure will
                     shut down or reboot the Integrity Server. If you connected instead to the
                     Management Port, you should jump ahead to the Logging onto the Management Port
                     procedure and then come back to this procedure after you are connected to the
                     Console.</li>
                  <li>Right after you make a connection to the FSC, there will be an announcement
                     confirming that you are connected and then a prompt for a username.</li>
                  <li>At the prompt for username, type in fsc in either upper or lower case letters
                     and press the <uicontrol>Enter</uicontrol> key.</li>
                  <li>The system will log you on and display the Space copyright information.
                     Eventually the main FSC menu will appear (Figure <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_njv_zfs_qzb">10</xref>). <fig id="fig_njv_zfs_qzb">
                        <title>Figure 10</title>
                        <image href="media/image12.jpg"
                               placement="break"
                               align="center"
                               id="image_ojv_zfs_qzb"/>
                     </fig>
                  </li>
                  <li>Type the number <userinput>4</userinput> or move the highlight with the arrow
                     keys to select the <i>
                        <uicontrol>Utilities</uicontrol>
                     </i> menu. Press
                        <uicontrol>Enter</uicontrol> to display the menu (Figure <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_xmb_1gs_qzb">11</xref>). <fig id="fig_xmb_1gs_qzb">
                        <title>Figure 11</title>
                        <image href="media/image13.jpg"
                               placement="break"
                               align="center"
                               id="image_ymb_1gs_qzb"/>
                     </fig>
                  </li>
                  <li>Type the number <userinput>10</userinput> or move the highlight to select
                           <i>
                        <uicontrol>Shutdown/Reboot System.</uicontrol>
                     </i> Press
                        <uicontrol>Enter</uicontrol> to get the next menu (Figure <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_s1g_1gs_qzb">12</xref>). <fig id="fig_s1g_1gs_qzb">
                        <title>Figure 12</title>
                        <image href="media/image14.jpg"
                               placement="break"
                               align="center"
                               id="image_t1g_1gs_qzb"/>
                     </fig>
                  </li>
                  <li>Enter the number for the operation that you need to perform and press
                        <uicontrol>Enter</uicontrol>. The system will prompt for a Password.
                     Passwords are established by using the MOC utility for setting up user
                     privileges. The password used will require the necessary privilege to permit
                     doing a reboot or shutdown this way. <ol>
                        <li>Recommendation: Set up a special user account that is the only one
                           having the privilege and provide it to personnel who are the most likely
                           to be responsible for doing maintenance like this</li>
                     </ol>
                  </li>
                  <li>If the password is correct, the text will display to explain what the function
                     will do and prompt you to confirm that this is your intention. Type
                        <userinput>Y</userinput> to proceed or <userinput>N</userinput> to
                     cancel.</li>
                  <li>The procedure will next display a screen where you can choose how long to
                     delay the start of the shutdown (Figure <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_ypl_1gs_qzb">13</xref>). To start the shutdown immediately, type a
                        <userinput>zero</userinput> and then press <uicontrol>Enter</uicontrol> to
                     complete the question. This is an old option that types a warning on the screen
                     of other telnet sessions. If this were a combo system, it would alert the PIC
                     and PRS users that the system is about to shut down. <fig id="fig_ypl_1gs_qzb">
                        <title>Figure 13</title>
                        <image href="media/image15.jpg"
                               placement="break"
                               align="center"
                               id="image_zpl_1gs_qzb"/>
                     </fig>
                  </li>
                  <li>The procedure will provide one final opportunity to safely exit from the
                     procedure (Figure <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_kcj_hfs_qzb">14</xref>). If you answer
                     it to proceed, the shutdown will begin.<ol id="ol_jcx_2fs_qzb">
                        <li>
                           <note id="note_thj_ffs_qzb">
                              <p>All Integrity systems will say that you are shutting down “PIC”
                                 even though it is an FSC only system.</p>
                              <fig id="fig_kcj_hfs_qzb">
                                 <title>Figure 14</title>
                                 <image href="media/image16.jpg"
                                        placement="break"
                                        align="center"
                                        id="image_lcj_hfs_qzb"/>
                              </fig>
                           </note>
                        </li>
                     </ol>
                  </li>
               </ol>
            </li>
            <li>There will be messages displayed as the process takes place. If this session is not connected to the Console, it will stop logging messages and after a time, it might disconnect. If you are doing the “blind” method, you will need to wait about five to ten minutes for the system to reboot. To check when it is ready, make the telnet program disconnect (if it did not by itself) and then try to connect. When the system has rebooted, you will be able to connect.</li>
            <li>When using the blind method, always wait 10 minutes after telling the system to shut down before turning off power. If the system has failed to reboot after 15 minutes, you can try powering off and back on to restart it, but it is likely that the failure to boot is a serious problem requiring technical assistance.</li>
            <li>Logging onto the Management Port<ol>
                  <li>When you connect to the Management Port IP address, the special computer that is
                     the Management Port will prompt you for “MP Login” (the username) and “MP
                     Password”. These are both case-sensitive, so be sure to type the
                        “<userinput>O</userinput>” in “Oper” so that it is capitalized.<ol>
                        <li>When the prompt “MP Login” appears, type <userinput>Oper</userinput> and
                           press <uicontrol>Enter</uicontrol> (Figure <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_ir3_bgs_qzb">15</xref>).</li>
                        <li>When the prompt “MP Password appears, type
                              <userinput>console</userinput> and press
                           <uicontrol>Enter</uicontrol>.</li>
                        <li>If the login was successful, there will be a menu of Management Port
                           functions that are accessed by typing the two letter heading for the one
                           required (Figure <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/fig_ir3_bgs_qzb">15</xref>). <fig id="fig_ir3_bgs_qzb">
                              <title>Figure 15</title>
                              <image href="media/image17.jpg"
                                     placement="break"
                                     align="center"
                                     id="image_kr3_bgs_qzb"/>
                           </fig>
                        </li>
                     </ol>
                  </li>
               </ol>
            </li>
            <li>Type the letters <userinput>CO</userinput> (upper or lower case) and press
                  <uicontrol>Enter</uicontrol> to connect to the console.</li>
            <li>There will now be three possible outcomes after you are connected to the Console:<ol>
                  <li>When you press <uicontrol>Enter</uicontrol>, the prompt for Username might come
                     up just as in step <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/li_r4x_pfs_qzb">1</xref> of the
                     Shutdown/Reboot Procedure. If you get the Username prompt, simply follow the
                     Shutdown/Reboot Procedure (page 8).</li>
                  <li>When you press <uicontrol>Enter</uicontrol>, something results from the FSC
                     menu already being logged on, or else someone left an administrative session
                     running by accident. Follow the instructions in step <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/li_z24_yhs_qzb">6</xref>.</li>
                  <li>You can press <uicontrol>Enter</uicontrol> and a message will say that another
                     session is already connected to the Console and the other session has control
                     of the keyboard (don’t panic). Follow the instructions in step <xref href="#r2008C33-BB02-11F0-1798-09173F13E4C5/li_jsb_b3s_qzb">8</xref>.</li>
               </ol>
            </li>
            <li>If you get an indication that you are in the FSC menu and the menu has started doing something, you can use Ctrl-z to cancel and the menu that was left on the session should appear. (Ctrl-w will also refresh a menu.) You can then take the Exit choices until the main menu is displayed. Then select the Utilities option and proceed from there per the instructions in Shutdown/Reboot Procedure (page 8).</li>
            <li>If there is a prompt that looks like the name of the FSC followed by “&gt;” and
               repeating the Enter just repeats the prompt, type the letters
                  <userinput>LO</userinput> to make it log off and then press
                  <uicontrol>Enter</uicontrol> again to get the Username prompt.</li>
            <li>If you get the message that there is another Console session, the way to take control of the keyboard is to type a three letter sequence shown on the screen (Ctrl-Ecf). The first letter must be combined with pressing the Ctrl key but the second and third keys are typed without Ctrl. The sequence must be typed within a short time period, (i.e., no longer than saying “1-2-3”). Use lowercase letters. After you have taken control, the alternatives in step 5a or 5b will apply.</li>
            <li>During a shutdown using the Management Port, you will be able to see the final message of the shutdown and know when to either power off for maintenance or that, in a moment, the self-testing will begin and then the server will reboot.</li>
            <li>Additional Notes<ol>
                  <li>Console Terminal<ol>
                        <li>Often the console VT terminal of the MicroVAX FSC is connected to the Integrity FSC as the console. If this is the case, you have the option to use the procedure to log on the Management Port and do the reboot. The video terminal may already be logged on, so you will need to determine the appropriate starting point in the previous methods.</li>
                     </ol>
                  </li>
                  <li>Booting to the Backup Disk<ol>
                        <li>One other reason for using the Management Port is to allow booting to the
                           Alternative boot disk in an emergency when the main disk is not bootable.
                           To do this, you must wait until the EFI Boot menu appears during the boot
                           process and then press the <uicontrol>down-arrow</uicontrol> to move the
                           choice from the first option on the list to the Alternative disk which is
                           the second one on the list (in normal situations). </li>
                        <li>You might find that the choices are listed differently and that the Alternative disk became the top choice. In this case, the backup disk has become the main disk from some previous situation. You may discover that the other disk is failed and someone forgot to get it replaced. Call for technical support if both disks are now unbootable.</li>
                     </ol>
                  </li>
                  <li>Running on the Backup Disk<ol>
                        <li>Be aware that the data on the backup disk may be entirely out of date. Therefore, before doing anything else, use MOC to “<i>Take Job Off Without Saving</i>” on all of the machines. Then do a simple Save on each machine to recover the current job information so that the FSC will know which jobs are actually operating. <i>If there are changes in COM-SOC II box configuration, there may be Time-Out messages when the boxes fail to respond.</i>
                        </li>
                        <li>The status of whether the machine was configured to be On-Line or Off-Line may have also changed since the backup to the disk was done. Use the Configure Machines and Configure COM-SOC II boxes options to ensure that the configuration is correct (network address and software versions) and if necessary repeat the Save function. At each COM-SOC II section, request that it do a Save function to ensure that the job data will be correct when the section is rebooted.</li>
                     </ol>
                  </li>
               </ol>
            </li>
         </ol>
      </section>
   </body>
</topic>
